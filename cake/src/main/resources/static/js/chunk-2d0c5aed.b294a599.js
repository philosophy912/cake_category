(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c5aed"],{"3fae":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"basic"},[e("ProductTable",{attrs:{data:t.basic,envData:t.envData},on:{handleSizeChange:t.handleSizeChange,handleCurrentChange:t.handleCurrentChange,del:t.del,add:t.add,modify:t.modify,search:t.search}}),e("ProductDialog",{attrs:{dialog:t.dialog,materialOptions:t.options,productOptions:t.options},on:{closeDialog:t.closeDialog,add:t.addNewRow}})],1)},i=[],o=(e("c354"),e("f98d")),s=e("07f7"),c=e("80d7"),d=e("2688"),h=e("df3a"),r=e("c4a4"),l=e.n(r),u=new l.a("views/Basic"),g={name:"Basic",mounted:function(){this.getData()},beforeRouteEnter:function(t,a,e){e((function(a){u.debug("beforeRouteEnter to path is "+t.path),a.getData()}))},components:{ProductTable:c["a"],ProductForm:d["a"],ProductDialog:h["a"]},data:function(){return{basic:[],options:[],dialog:{type:this.$tools.BasicName,title:"",show:!1,row:"",left:"取消",right:""},row:this.$tools.createMaterialRow(!1),envData:{pageNo:1,pageSize:10,totalRows:0,totalPages:0}}},watch:{basic:function(t,a){0==t.length&&this.add()}},methods:{handleSizeChange:function(t){this.envData.pageSize=t,this.getData()},handleCurrentChange:function(t){this.envData.pageNo=t,this.getData()},getData:function(){var t=this,a={envData:this.envData};Object(o["e"])(a).then((function(a){t.basic=a.data,t.envData=a.envData})),Object(s["d"])().then((function(a){t.options=a.data}))},del:function(t){var a=this;u.debug("row = "+JSON.stringify(t));var e={id:t.id};this.$confirm("此操作将删除["+t.name+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["b"])(e).then((function(){a.$message.success("成功删除基础产品["+t.name+"]"),a.getData()})).catch((function(){a.$message.error("删除基础产品["+t.name+"]失败，请检查是否有中级产品使用了该基础产品")}))})).catch((function(){u.debug("已取消删除["+t.name+"]")}))},add:function(){u.debug("add new in table"),this.dialog.show=!0,this.dialog.title="新增基础产品",this.dialog.right="新增",0==this.row.formulas.length&&this.row.formulas.push(this.$tools.createMaterial()),this.dialog.row=this.row},addNewRow:function(){u.debug("add new row in dialog"),this.dialog.row.formulas.push(this.$tools.createMaterial())},closeDialog:function(){this.dialog.show=!1},modify:function(t){u.debug("modify current row"),this.dialog.show=!0,this.dialog.title="修改",this.dialog.right="保存",this.dialog.row=this.$tools.deepClone(t)},search:function(t){var a=this;if(u.debug("execute method search"),u.debug("it will search "+t),this.$tools.isEmpty(t)){var e={envData:this.envData};Object(o["e"])(e).then((function(t){a.basic=t.data,a.envData=t.envData}))}else{var n={name:t,envData:this.envData};Object(o["c"])(n).then((function(e){var n=e.data;0!==n.length?(a.basic=n,a.envData=e.envData):a.$message.error("没有找到基础产品["+t+"]")}))}}}},f=g,w=e("e90a"),b=Object(w["a"])(f,n,i,!1,null,null,null);a["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0c5aed.b294a599.js.map