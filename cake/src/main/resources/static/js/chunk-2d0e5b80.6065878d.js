(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e5b80"],{"964a":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"basic"},[o("ProductTable",{attrs:{data:t.middle},on:{del:t.del,add:t.add,modify:t.modify,search:t.search}}),o("ProductDialog",{attrs:{dialog:t.dialog,materialOptions:t.materialOptions,productOptions:t.basicOptions},on:{closeDialog:t.closeDialog,add:t.addNewRow}})],1)},n=[],a=(o("c354"),o("8a8e")),d=o("f98d"),s=o("07f7"),c=o("80d7"),r=o("2688"),l=o("df3a"),u=o("c4a4"),h=o.n(u),f=new h.a("views/Middle"),g={name:"Middle",mounted:function(){this.getData()},beforeRouteEnter:function(t,e,o){o((function(e){f.debug("beforeRouteEnter to path is "+t.path),e.getData()}))},components:{ProductTable:c["a"],ProductForm:r["a"],ProductDialog:l["a"]},data:function(){return{middle:[],basicOptions:[],materialOptions:[],dialog:{type:this.$tools.MiddleName,title:"",show:!1,row:"",left:"取消",right:""},row:this.$tools.createBothRow(!0)}},watch:{middle:function(t,e){0==t.length&&this.add()}},methods:{getData:function(){var t=this;Object(s["d"])().then((function(e){t.materialOptions=e})),Object(d["d"])().then((function(e){t.basicOptions=e})),Object(a["d"])().then((function(e){t.middle=e}))},del:function(t){var e=this;f.debug("row = "+JSON.stringify(t));var o={id:t.id};this.$confirm("此操作将删除["+t.name+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(a["b"])(o).then((function(){e.$message.success("成功删除中级产品["+t.name+"]"),e.getData()})).catch((function(){e.$message.error("删除中级产品["+t.name+"]失败")}))})).catch((function(){f.debug("已取消删除["+t.name+"]")}))},add:function(){f.debug("add new in table"),this.dialog.show=!0,this.dialog.title="新增中级产品",this.dialog.right="新增",this.dialog.row=this.row},addNewRow:function(){var t=this;f.debug("add new row in dialog"),this.$confirm("此选择要添加的类型","提示",{confirmButtonText:"原材料",cancelButtonText:"基础产品",type:"info"}).then((function(){t.row.formulas.push(t.$tools.createMaterial())})).catch((function(){t.row.formulas.push(t.$tools.createProduct())}))},closeDialog:function(){this.dialog.show=!1},modify:function(t){f.debug("modify current row"),this.dialog.show=!0,this.dialog.title="修改",this.dialog.right="保存",this.dialog.row=this.$tools.deepClone(t)},addOne:function(){f.debug("execute add one methods")},search:function(t){var e=this;f.debug("execute method search"),f.debug("it will search "+t),this.$tools.isEmpty(t)?Object(a["d"])().then((function(t){f.debug("resp = "+JSON.stringify(t)),e.middle=t})):Object(a["c"])(t).then((function(o){f.debug("resp = "+JSON.stringify(o)),0!==o.length?e.middle=o:e.$message.error("没有找到原材料["+t+"]")}))}}},m=g,w=o("e90a"),b=Object(w["a"])(m,i,n,!1,null,"5d060f36",null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0e5b80.6065878d.js.map