(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c5aed"],{"3fae":function(t,o,e){"use strict";e.r(o);var i=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"basic"},[e("ProductTable",{attrs:{data:t.basic},on:{del:t.del,add:t.add,modify:t.modify,search:t.search}}),e("ProductDialog",{attrs:{dialog:t.dialog,materialOptions:t.options,productOptions:t.options},on:{closeDialog:t.closeDialog,add:t.addNewRow}})],1)},a=[],n=(e("c354"),e("f98d")),s=e("07f7"),c=e("80d7"),d=e("2688"),r=e("df3a"),l=e("c4a4"),u=e.n(l),h=new u.a("views/Basic"),g={name:"Basic",mounted:function(){this.getData()},beforeRouteEnter:function(t,o,e){e((function(o){h.debug("beforeRouteEnter to path is "+t.path),o.getData()}))},components:{ProductTable:c["a"],ProductForm:d["a"],ProductDialog:r["a"]},data:function(){return{basic:[],options:[],dialog:{type:this.$tools.BasicName,title:"",show:!1,row:"",left:"取消",right:""},row:this.$tools.createMaterialRow(!1)}},watch:{basic:function(t,o){0==t.length&&this.add()}},methods:{getData:function(){var t=this;Object(n["e"])().then((function(o){t.basic=o})),Object(s["d"])().then((function(o){t.options=o}))},del:function(t){var o=this;h.debug("row = "+JSON.stringify(t));var e={id:t.id};this.$confirm("此操作将删除["+t.name+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["b"])(e).then((function(){o.$message.success("成功删除基础产品["+t.name+"]"),o.getData()})).catch((function(){o.$message.error("删除基础产品["+t.name+"]失败，请检查是否有中级产品使用了该基础产品")}))})).catch((function(){h.debug("已取消删除["+t.name+"]")}))},add:function(){h.debug("add new in table"),this.dialog.show=!0,this.dialog.title="新增基础产品",this.dialog.right="新增",0==this.row.formulas.length&&this.row.formulas.push(this.$tools.createMaterial()),this.dialog.row=this.row},addNewRow:function(){h.debug("add new row in dialog"),this.dialog.row.formulas.push(this.$tools.createMaterial())},closeDialog:function(){this.dialog.show=!1},modify:function(t){h.debug("modify current row"),this.dialog.show=!0,this.dialog.title="修改",this.dialog.right="保存",this.dialog.row=this.$tools.deepClone(t)},search:function(t){var o=this;h.debug("execute method search"),h.debug("it will search "+t),this.$tools.isEmpty(t)?Object(n["e"])().then((function(t){h.debug("resp = "+JSON.stringify(t)),o.basic=t})):Object(n["c"])(t).then((function(e){0!==e.length?o.basic=e:o.$message.error("没有找到基础产品["+t+"]")}))}}},f=g,w=e("e90a"),b=Object(w["a"])(f,i,a,!1,null,null,null);o["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0c5aed.a128a9e1.js.map